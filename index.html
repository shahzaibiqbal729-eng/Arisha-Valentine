<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Will You Be My Valentine, Arisha?</title>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

<style>
html, body {
    margin:0;
    padding:0;
    overflow:hidden;
    height:100%;
    background: linear-gradient(to top, #ffc0cb, #ffe6f0);
    font-family: 'Great Vibes', cursive;
}
#message {
    position:absolute;
    top:10%;
    width:100%;
    text-align:center;
    font-size:3em;
    color:white;
    text-shadow: 2px 2px 10px #ff6fb5;
    z-index:2;
}
#buttons {
    position: absolute;
    bottom: 10%;
    width:100%;
    text-align:center;
    z-index:2;
}
.btn {
    background:#ff6fb5;
    border:none;
    padding:20px 40px;
    margin:20px;
    font-size:2em;
    border-radius:50px;
    cursor:pointer;
    box-shadow:0 0 20px #ff9fc3;
    transition: transform 0.2s, box-shadow 0.2s;
}
.btn:hover {
    transform: scale(1.1);
    box-shadow:0 0 30px #ffc0cb;
}
canvas {
    display:block;
}
</style>
</head>
<body>

<div id="message">
  Will you be my Valentine, Wifee? ðŸ’–<br>
  Arisha, you fill my life with endless joy, laughter, and love. Every moment with you is magical, and Iâ€™m grateful for you every single day.
</div>

<div id="buttons">
  <button class="btn" id="yesBtn">Yes ðŸ’—</button>
  <button class="btn" id="noBtn">No ðŸ’”</button>
</div>

<canvas id="threeCanvas"></canvas>

<!-- Three.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r152/three.min.js"></script>
<!-- Howler.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>

<script>
/* --------------- MUSIC --------------- */
var sound = new Howl({
    src: ['https://actions.google.com/sounds/v1/ambiences/romantic_background.ogg'],
    autoplay: true,
    loop: true,
    volume: 0.4
});
sound.play();

/* --------------- THREE.JS SCENE --------------- */
let scene = new THREE.Scene();
let camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight,0.1,1000);
camera.position.z = 15;

let renderer = new THREE.WebGLRenderer({canvas: document.getElementById("threeCanvas"), alpha:true, antialias:true});
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(window.devicePixelRatio);

/* LIGHTS */
let ambient = new THREE.AmbientLight(0xffffff,0.7);
scene.add(ambient);
let pointLight = new THREE.PointLight(0xffc0cb,2,100);
pointLight.position.set(0,10,10);
scene.add(pointLight);

/* TREE */
let trunkGeo = new THREE.CylinderGeometry(0.5,0.5,3,32);
let trunkMat = new THREE.MeshStandardMaterial({color:0x8B4513});
let trunk = new THREE.Mesh(trunkGeo,trunkMat);
trunk.position.y=-4;
scene.add(trunk);

let foliageGeo = new THREE.ConeGeometry(3,6,32);
let foliageMat = new THREE.MeshStandardMaterial({color:0xFF69B4});
let foliage = new THREE.Mesh(foliageGeo,foliageMat);
foliage.position.y=-1;
scene.add(foliage);

/* HEARTS */
let hearts = [];
let heartGeo = new THREE.TetrahedronGeometry(0.3,0);
let heartMat = new THREE.MeshStandardMaterial({color:0xff4d6d});
for(let i=0;i<30;i++){
    let h = new THREE.Mesh(heartGeo,heartMat);
    h.position.set((Math.random()-0.5)*20, Math.random()*10-2, (Math.random()-0.5)*20);
    hearts.push(h);
    scene.add(h);
}

/* BUTTERFLIES */
let butterflies = [];
let butterflyGeo = new THREE.SphereGeometry(0.2,8,8);
let butterflyMat = new THREE.MeshStandardMaterial({color:0xffff66});
for(let i=0;i<20;i++){
    let b = new THREE.Mesh(butterflyGeo,butterflyMat);
    b.position.set((Math.random()-0.5)*20, Math.random()*8, (Math.random()-0.5)*20);
    butterflies.push(b);
    scene.add(b);
}

/* PARTICLES */
let particles = [];
for(let i=0;i<100;i++){
    let p = new THREE.Mesh(new THREE.SphereGeometry(0.05,6,6), new THREE.MeshBasicMaterial({color:0xffc0cb}));
    p.position.set((Math.random()-0.5)*20, Math.random()*10, (Math.random()-0.5)*20);
    particles.push(p);
    scene.add(p);
}

/* ANIMATE */
function animate(){
    requestAnimationFrame(animate);
    foliage.rotation.y += 0.002;

    hearts.forEach(h=>{
        h.position.y += 0.02;
        h.position.x += Math.sin(Date.now()*0.001 + h.position.z)*0.01;
        if(h.position.y>10) h.position.y=-2;
    });
    butterflies.forEach(b=>{
        b.position.y += Math.sin(Date.now()*0.002 + b.position.x)*0.02;
        b.position.x += Math.cos(Date.now()*0.002 + b.position.y)*0.02;
        if(b.position.y>10) b.position.y=-2;
    });
    particles.forEach(p=>{
        p.position.y += 0.01;
        if(p.position.y>10) p.position.y=-2;
    });

    renderer.render(scene,camera);
}
animate();

/* --------------- YES / NO BUTTONS --------------- */
document.getElementById('yesBtn').addEventListener('click', ()=>{
    for(let i=0;i<50;i++){
        let ph = new THREE.Mesh(new THREE.TetrahedronGeometry(0.2,0), new THREE.MeshStandardMaterial({color:0xff69b4}));
        ph.position.set(0,0,0);
        ph.vx = (Math.random()-0.5)*0.5;
        ph.vy = Math.random()*0.5+0.2;
        ph.vz = (Math.random()-0.5)*0.5;
        scene.add(ph);
        let explode = setInterval(()=>{
            ph.position.x += ph.vx;
            ph.position.y += ph.vy;
            ph.position.z += ph.vz;
        },30);
        setTimeout(()=>{scene.remove(ph); clearInterval(explode)},2000);
    }
    alert("I love you, Arisha! ðŸ’–");
});
document.getElementById('noBtn').addEventListener('click', ()=>{
    alert("It's okay, Arisha! ðŸ’–");
});
</script>

</body>
</html>